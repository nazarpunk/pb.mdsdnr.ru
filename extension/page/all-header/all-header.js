"use strict";
(($header) => {
    if ($header === null)
        return;
    if (!window.isClientLogged)
        return $header.remove();
    document.body.prepend($header);
    const $navbar = document.querySelector(`.main-header nav.navbar`);
    if ($navbar === null)
        return;
    $header.querySelectorAll(`
        .dropdown.messages-menu,
        .dropdown.notifications-menu,
        .dropdown.tasks-menu,
        li:empty,
        .sidebar-toggle,
        .logo`)
        .forEach($elem => $elem.remove());
    $navbar.querySelectorAll(`br`).forEach($br => $br.remove());
    $navbar.querySelectorAll(`.user-body .col-xs-4`).forEach($div => {
        $div.removeAttribute(`class`);
        $div.removeAttribute(`style`);
        $div.querySelectorAll(`a`).forEach($a => $a.className = `btn btn-primary btn-block`);
    });
    $navbar.querySelector(`.user-footer .btn-default`).className = `btn btn-danger btn-block`;
    chrome.runtime.sendMessage(document.head.dataset.extensionId || ``, { getManifest: true }, (manifest) => {
        $navbar.dataset.version = `v${manifest.version}`;
    });
    chrome.runtime.sendMessage(document.head.dataset.extensionId || ``, { getClients: true }, (data) => {
        if (data === null)
            return;
        const { clients } = data;
        if (clients.length === 0)
            return;
        const $select = document.createElement(`select`);
        $navbar.append($select);
        const clientsData = {};
        let isCatch = false;
        clients.forEach(client => {
            clientsData[client.login] = client;
            const selected = window.clientId === client.login ? `selected` : ``;
            if (selected !== ``)
                isCatch = true;
            $select.insertAdjacentHTML(`beforeend`, `<option value="${client.login}" ${selected}>${client.name} (${client.login})</option>`);
        });
        if (!isCatch) {
            $select.insertAdjacentHTML(`afterbegin`, `<option value="0" style="display: none">-- Выбрать</option>`);
            $select.value = `0`;
        }
        document.body.insertAdjacentHTML(`beforeend`, `<form id="main-header-login-form" enctype="multipart/form-data" action="/privcab/index.php" method="post" style="display: none"><input type="text" name="UserLogin[username]"><input type="text" name="UserLogin[password]"><input name="UserLogin[key]" type="file"><input type="submit"></form>`);
        const $form = document.getElementById(`main-header-login-form`);
        const $username = $form.querySelector(`[name='UserLogin[username]']`);
        const $password = $form.querySelector(`[name='UserLogin[password]']`);
        const $key = $form.querySelector(`[name='UserLogin[key]']`);
        const logout = `/privcab/index.php?r=/site/logout`;
        $select.addEventListener(`change`, () => {
            if (!clientsData.hasOwnProperty($select.value)) {
                window.location.replace(logout);
                return;
            }
            const client = clientsData[$select.value];
            fetch(logout).then(() => {
                $username.value = client.login;
                $password.value = client.password;
                let list = new DataTransfer();
                list.items.add(new File([client.token], `Файлик.key`));
                $key.files = list.files;
                localStorage.setItem(`loginHashPrev`, client.loginHash);
                $form.submit();
            });
        }, false);
    });
})(document.querySelector(`.wrapper > .main-header`));

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4dGVuc2lvbi9wYWdlL2FsbC1oZWFkZXIvYWxsLWhlYWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsQ0FBQyxDQUFDLE9BQW9CLEVBQUUsRUFBRTtJQUN0QixJQUFJLE9BQU8sS0FBSyxJQUFJO1FBQUUsT0FBTztJQUM3QixJQUFJLENBQUMsTUFBTSxDQUFDLGNBQWM7UUFBRSxPQUFPLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUVwRCxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUUvQixNQUFNLE9BQU8sR0FBZ0IsUUFBUSxDQUFDLGFBQWEsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0lBQy9FLElBQUksT0FBTyxLQUFLLElBQUk7UUFBRSxPQUFPO0lBQzdCLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBYzs7Ozs7O2NBTTVCLENBQ1Q7U0FDSSxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztJQUV0QyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7SUFDNUQsT0FBTyxDQUFDLGdCQUFnQixDQUFDLHNCQUFzQixDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQzVELElBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUE7UUFDN0IsSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM5QixJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLFNBQVMsR0FBRywyQkFBMkIsQ0FBQyxDQUFDO0lBQ3pGLENBQUMsQ0FBQyxDQUFDO0lBQ0gsT0FBTyxDQUFDLGFBQWEsQ0FBYywyQkFBMkIsQ0FB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QUU7Z0JBQ3BCLFNBQVMsQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQztnQkFDL0IsU0FBUyxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDO2dCQUNsQyxJQUFJLElBQUksR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO2dCQUM5QixJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxZQUFZLENBQUMsQ0FBQyxDQUFDO2dCQUN2RCxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7Z0JBRXhCLFlBQVksQ0FBQyxPQUFPLENBQUMsZUFBZSxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFFeEQsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ25CLENBQUMsQ0FBQyxDQUFDO1FBRVAsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ2QsQ0FBQyxDQUNKLENBQUM7QUFFTixDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFjLHlCQUF5QixDQUFFLENBQUMsQ0FBQSIsImZpbGUiOiJleHRlbnNpb24vcGFnZS9hbGwtaGVhZGVyL2FsbC1oZWFkZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vcGFnZS5kLnRzXCIgLz5cclxuKCgkaGVhZGVyOiBIVE1MRWxlbWVudCkgPT4ge1xyXG4gICAgaWYgKCRoZWFkZXIgPT09IG51bGwpIHJldHVybjtcclxuICAgIGlmICghd2luZG93LmlzQ2xpZW50TG9nZ2VkKSByZXR1cm4gJGhlYWRlci5yZW1vdmUoKTtcclxuXHJcbiAgICBkb2N1bWVudC5ib2R5LnByZXBlbmQoJGhlYWRlcik7XHJcblxyXG4gICAgY29uc3QgJG5hdmJhciA9IDxIVE1MRWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAubWFpbi1oZWFkZXIgbmF2Lm5hdmJhcmApO1xyXG4gICAgaWYgKCRuYXZiYXIgPT09IG51bGwpIHJldHVybjtcclxuICAgICRoZWFkZXIucXVlcnlTZWxlY3RvckFsbDxIVE1MRWxlbWVudD4oYFxyXG4gICAgICAgIC5kcm9wZG93bi5tZXNzYWdlcy1tZW51LFxyXG4gICAgICAgIC5kcm9wZG93bi5ub3RpZmljYXRpb25zLW1lbnUsXHJcbiAgICAgICAgLmRyb3Bkb3duLnRhc2tzLW1lbnUsXHJcbiAgICAgICAgbGk6ZW1wdHksXHJcbiAgICAgICAgLnNpZGViYXItdG9nZ2xlLFxyXG4gICAgICAgIC5sb2dvYFxyXG4gICAgKVxyXG4gICAgICAgIC5mb3JFYWNoKCRlbGVtID0+ICRlbGVtLnJlbW92ZSgpKTtcclxuXHJcbiAgICAkbmF2YmFyLnF1ZXJ5U2VsZWN0b3JBbGwoYGJyYCkuZm9yRWFjaCgkYnIgPT4gJGJyLnJlbW92ZSgpKTtcclxuICAgICRuYXZiYXIucXVlcnlTZWxlY3RvckFsbChgLnVzZXItYm9keSAuY29sLXhzLTRgKS5mb3JFYWNoKCRkaXYgPT4ge1xyXG4gICAgICAgICRkaXYucmVtb3ZlQXR0cmlidXRlKGBjbGFzc2ApXHJcbiAgICAgICAgJGRpdi5yZW1vdmVBdHRyaWJ1dGUoYHN0eWxlYCk7XHJcbiAgICAgICAgJGRpdi5xdWVyeVNlbGVjdG9yQWxsKGBhYCkuZm9yRWFjaCgkYSA9PiAkYS5jbGFzc05hbWUgPSBgYnRuIGJ0bi1wcmltYXJ5IGJ0bi1ibG9ja2ApO1xyXG4gICAgfSk7XHJcbiAgICAkbmF2YmFyLnF1ZXJ5U2VsZWN0b3I8SFRNTEVsZW1lbnQ+KGAudXNlci1mb290ZXIgLmJ0bi1kZWZhdWx0YCkhLmNsYXNzTmFtZSA9IGBidG4gYnRuLWRhbmdlciBidG4tYmxvY2tgO1xyXG5cclxuICAgIC8vIG1hbmlmZXN0XHJcbiAgICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZShcclxuICAgICAgICBkb2N1bWVudC5oZWFkLmRhdGFzZXQuZXh0ZW5zaW9uSWQgfHwgYGAsXHJcbiAgICAgICAge2dldE1hbmlmZXN0OiB0cnVlfSxcclxuICAgICAgICAobWFuaWZlc3QpID0+IHtcclxuICAgICAgICAgICAgJG5hdmJhci5kYXRhc2V0LnZlcnNpb24gPSBgdiR7bWFuaWZlc3QudmVyc2lvbn1gO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vIHJlbG9naW5cclxuICAgIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKFxyXG4gICAgICAgIGRvY3VtZW50LmhlYWQuZGF0YXNldC5leHRlbnNpb25JZCB8fCBgYCxcclxuICAgICAgICB7Z2V0Q2xpZW50czogdHJ1ZX0sXHJcbiAgICAgICAgKGRhdGE6IFVzZXJEYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSByZXR1cm47XHJcbiAgICAgICAgICAgIGNvbnN0IHtjbGllbnRzfSA9IGRhdGE7XHJcbiAgICAgICAgICAgIGlmIChjbGllbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgJHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYHNlbGVjdGApO1xyXG4gICAgICAgICAgICAkbmF2YmFyLmFwcGVuZCgkc2VsZWN0KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudHNEYXRhOiBDbGllbnRzRGF0YSA9IHt9O1xyXG4gICAgICAgICAgICBsZXQgaXNDYXRjaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjbGllbnRzLmZvckVhY2goY2xpZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIGNsaWVudHNEYXRhW2NsaWVudC5sb2dpbl0gPSBjbGllbnQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IHdpbmRvdy5jbGllbnRJZCA9PT0gY2xpZW50LmxvZ2luID8gYHNlbGVjdGVkYCA6IGBgO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkICE9PSBgYCkgaXNDYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkc2VsZWN0Lmluc2VydEFkamFjZW50SFRNTChgYmVmb3JlZW5kYCwgYDxvcHRpb24gdmFsdWU9XCIke2NsaWVudC5sb2dpbn1cIiAke3NlbGVjdGVkfT4ke2NsaWVudC5uYW1lfSAoJHtjbGllbnQubG9naW59KTwvb3B0aW9uPmApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKCFpc0NhdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2VsZWN0Lmluc2VydEFkamFjZW50SFRNTChgYWZ0ZXJiZWdpbmAsIGA8b3B0aW9uIHZhbHVlPVwiMFwiIHN0eWxlPVwiZGlzcGxheTogbm9uZVwiPi0tINCS0YvQsdGA0LDRgtGMPC9vcHRpb24+YCk7XHJcbiAgICAgICAgICAgICAgICAkc2VsZWN0LnZhbHVlID0gYDBgO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50SFRNTChgYmVmb3JlZW5kYCwgYDxmb3JtIGlkPVwibWFpbi1oZWFkZXItbG9naW4tZm9ybVwiIGVuY3R5cGU9XCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIgYWN0aW9uPVwiL3ByaXZjYWIvaW5kZXgucGhwXCIgbWV0aG9kPVwicG9zdFwiIHN0eWxlPVwiZGlzcGxheTogbm9uZVwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJVc2VyTG9naW5bdXNlcm5hbWVdXCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cIlVzZXJMb2dpbltwYXNzd29yZF1cIj48aW5wdXQgbmFtZT1cIlVzZXJMb2dpbltrZXldXCIgdHlwZT1cImZpbGVcIj48aW5wdXQgdHlwZT1cInN1Ym1pdFwiPjwvZm9ybT5gKTtcclxuICAgICAgICAgICAgY29uc3QgJGZvcm0gPSA8SFRNTEZvcm1FbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBtYWluLWhlYWRlci1sb2dpbi1mb3JtYCk7XHJcbiAgICAgICAgICAgIGNvbnN0ICR1c2VybmFtZSA9IDxIVE1MSW5wdXRFbGVtZW50PiRmb3JtLnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPSdVc2VyTG9naW5bdXNlcm5hbWVdJ11gKTtcclxuICAgICAgICAgICAgY29uc3QgJHBhc3N3b3JkID0gPEhUTUxJbnB1dEVsZW1lbnQ+JGZvcm0ucXVlcnlTZWxlY3RvcihgW25hbWU9J1VzZXJMb2dpbltwYXNzd29yZF0nXWApO1xyXG4gICAgICAgICAgICBjb25zdCAka2V5ID0gPEhUTUxJbnB1dEVsZW1lbnQ+JGZvcm0ucXVlcnlTZWxlY3RvcihgW25hbWU9J1VzZXJMb2dpbltrZXldJ11gKTtcclxuICAgICAgICAgICAgY29uc3QgbG9nb3V0ID0gYC9wcml2Y2FiL2luZGV4LnBocD9yPS9zaXRlL2xvZ291dGA7XHJcblxyXG4gICAgICAgICAgICAkc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoYGNoYW5nZWAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghY2xpZW50c0RhdGEuaGFzT3duUHJvcGVydHkoJHNlbGVjdC52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShsb2dvdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGNsaWVudDogQ2xpZW50ID0gY2xpZW50c0RhdGFbJHNlbGVjdC52YWx1ZV07XHJcbiAgICAgICAgICAgICAgICBmZXRjaChsb2dvdXQpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICR1c2VybmFtZS52YWx1ZSA9IGNsaWVudC5sb2dpbjtcclxuICAgICAgICAgICAgICAgICAgICAkcGFzc3dvcmQudmFsdWUgPSBjbGllbnQucGFzc3dvcmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxpc3QgPSBuZXcgRGF0YVRyYW5zZmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5pdGVtcy5hZGQobmV3IEZpbGUoW2NsaWVudC50b2tlbl0sIGDQpNCw0LnQu9C40Loua2V5YCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICRrZXkuZmlsZXMgPSBsaXN0LmZpbGVzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgbG9naW5IYXNoUHJldmAsIGNsaWVudC5sb2dpbkhhc2gpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkZm9ybS5zdWJtaXQoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICk7XHJcblxyXG59KShkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxFbGVtZW50PihgLndyYXBwZXIgPiAubWFpbi1oZWFkZXJgKSEpXHJcblxyXG5cclxuIl19
